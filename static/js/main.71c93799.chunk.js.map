{"version":3,"sources":["Header.js","Nav.js","Footer.js","Post.js","Feed.js","Home.js","NewPost.js","PostPage.js","EditPost.js","About.js","Missing.js","api/posts.js","Login.js","App.js","index.js"],"names":["Header","title","className","Nav","search","setSearch","Logout","onSubmit","e","preventDefault","htmlFor","id","type","placeholder","value","onChange","target","to","onClick","Footer","today","Date","getFullYear","Post","post","style","color","datetime","body","length","slice","Feed","posts","map","Home","marginTop","NewPost","handleSubmit","postTitle","setPostTitle","postBody","setPostBody","required","PostPage","handleDelete","useParams","find","toString","EditPost","handleEdit","editBody","setEditBody","editTitle","setEditTitle","useHistory","useEffect","About","Missing","axios","create","baseURL","Login","login","error","useState","name","email","password","details","setDetails","App","setPosts","searchResults","setSearchResults","history","adminUser","user","setUser","setError","a","api","get","response","data","console","log","status","headers","message","fetchPosts","filteredResults","filter","toLowerCase","includes","reverse","format","newPost","allPosts","push","updatedPost","put","delete","postsList","exact","path","component","alert","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71c93799.chunk.js","sourcesContent":["const Header = ({ title }) => {\n    return (\n        <header className=\"Header\">\n            <h1>{title}</h1>\n        </header>\n    )\n}\n\nexport default Header\n","import { Link } from \"react-router-dom\";\n\nconst Nav = ({ search, setSearch, Logout }) => {\n  return (\n    <nav className=\"Nav\">\n      <form className=\"searchForm\" onSubmit={(e) => e.preventDefault()}>\n        <label htmlFor=\"search\">Search Posts</label>\n        <input\n          id=\"search\"\n          type=\"text\"\n          placeholder=\"Search Posts\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n        />\n      </form>\n      <ul>\n        <li>\n          <Link to=\"/\">Home</Link>\n        </li>\n        <li>\n          <Link to=\"/post\">Post</Link>\n        </li>\n        <li>\n          <Link to=\"/about\">About</Link>\n        </li>\n        <li className=\"logout\" onClick={Logout}>\n          Logout\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Nav;\n","const Footer = () => {\n    const today = new Date();\n    return (\n        <footer className='Footer'>\n            <p>Copyright &copy; {today.getFullYear()}</p>\n        </footer>\n    )\n}\n\nexport default Footer\n","import { Link } from \"react-router-dom\";\n\nconst Post = ({ post }) => {\n  return (\n    <article className=\"post\">\n      <Link style={{ color: \"white\" }} to={`/post/${post.id}`}>\n        <h2 className=\"postTitle\">{post.title}</h2>\n        <p className=\"postDate\">{post.datetime}</p>\n        <p className=\"postBody\">\n          {post.body.length <= 55 ? post.body : `${post.body.slice(0, 150)}...`}\n        </p>\n      </Link>\n    </article>\n  );\n};\n\nexport default Post;\n","import Post from './Post';\n\nconst Feed = ({ posts }) => {\n    return (\n        <>\n            {posts.map(post => (\n                <Post key={post.id} post={post} />\n            ))}\n        </>\n    )\n}\n\nexport default Feed\n","import Feed from \"./Feed\";\n\nconst Home = ({ posts }) => {\n  return (\n    <main className=\"Home\">\n      {posts.length ? (\n        <Feed posts={posts} />\n      ) : (\n        <p style={{ marginTop: \"2rem\" }}>No posts to display.</p>\n      )}\n    </main>\n  );\n};\n\nexport default Home;\n","const NewPost = ({\n    handleSubmit, postTitle, setPostTitle, postBody, setPostBody\n}) => {\n    return (\n        <main className=\"NewPost\">\n            <h2>New Post</h2>\n            <form className=\"newPostForm\" onSubmit={handleSubmit}>\n                <label htmlFor=\"postTitle\">Title:</label>\n                <input\n                    id=\"postTitle\"\n                    type=\"text\"\n                    required\n                    value={postTitle}\n                    onChange={(e) => setPostTitle(e.target.value)}\n                />\n                <label htmlFor=\"postBody\">Post:</label>\n                <textarea\n                    id=\"postBody\"\n                    required\n                    value={postBody}\n                    onChange={(e) => setPostBody(e.target.value)}\n                />\n                <button type=\"submit\">Submit</button>\n            </form>\n        </main>\n    )\n}\n\nexport default NewPost\n","import { useParams, Link } from \"react-router-dom\";\n\nconst PostPage = ({ posts, handleDelete }) => {\n  const { id } = useParams();\n  const post = posts.find((post) => post.id.toString() === id);\n  return (\n    <main className=\"PostPage\">\n      <article className=\"post\">\n        {post && (\n          <>\n            <h2 className=\"postTitle\">{post.title}</h2>\n            <p className=\"postDate\">{post.datetime}</p>\n            <p className=\"postBody\">{post.body}</p>\n            <Link to={`/edit/${post.id}`}>\n              <button className=\"editButton\">Edit Post</button>\n            </Link>\n            <button\n              className=\"deleteButton\"\n              onClick={() => handleDelete(post.id)}\n            >\n              Delete Post\n            </button>\n          </>\n        )}\n        {!post && (\n          <>\n            <h2>Post Not Found</h2>\n            <p>Well, that's disappointing.</p>\n            <p>\n              <Link to=\"/\">Visit Our Homepage</Link>\n            </p>\n          </>\n        )}\n      </article>\n      <Link to=\"/\" className=\"back-btn\">\n        Back\n      </Link>\n    </main>\n  );\n};\n\nexport default PostPage;\n","import { useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\n\nconst EditPost = ({\n  posts,\n  handleEdit,\n  editBody,\n  setEditBody,\n  editTitle,\n  setEditTitle\n}) => {\n  const { id } = useParams();\n  const post = posts.find((post) => post.id.toString() === id);\n\n  let history = useHistory();\n\n  useEffect(() => {\n    if (post) {\n      setEditTitle(post.title);\n      setEditBody(post.body);\n    }\n  }, [post, setEditTitle, setEditBody]);\n\n  return (\n    <main className=\"NewPost\">\n      {editTitle && (\n        <>\n          <h2>Edit Post</h2>\n          <form className=\"newPostForm\" onSubmit={(e) => e.preventDefault()}>\n            <label htmlFor=\"postTitle\">Title:</label>\n            <input\n              id=\"postTitle\"\n              type=\"text\"\n              required\n              value={editTitle}\n              onChange={(e) => setEditTitle(e.target.value)}\n            />\n            <label htmlFor=\"postBody\">Post:</label>\n            <textarea\n              id=\"postBody\"\n              required\n              value={editBody}\n              onChange={(e) => setEditBody(e.target.value)}\n            />\n            <button type=\"submit\" onClick={() => handleEdit(post.id)}>\n              Submit\n            </button>\n          </form>\n          <Link className=\"back-btn\" to={`/post/${post.id}`}>\n            Back\n          </Link>\n        </>\n      )}\n      {!editTitle && (\n        <>\n          <h2>Post Not Found</h2>\n          <p>Well, that's disappointing.</p>\n          <p>\n            <Link to=\"/\">Visit Our Homepage</Link>\n          </p>\n        </>\n      )}\n    </main>\n  );\n};\n\nexport default EditPost;\n","const About = () => {\n  return (\n    <main className=\"About\">\n      <h2>About</h2>\n      <p style={{ marginTop: \"1rem\" }}>\n        Personal Blog made with React js, useState, useEffect, axios and styled\n        with CSS\n      </p>\n    </main>\n  );\n};\n\nexport default About;\n","import { Link } from 'react-router-dom';\n\nconst Missing = () => {\n    return (\n        <main className='Missing'>\n            <h2>Page Not Found</h2>\n            <p>Well, that's disappointing.</p>\n            <p>\n                <Link to='/'>Visit Our Homepage</Link>\n            </p>\n        </main>\n    )\n}\n\nexport default Missing\n","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"http://localhost:8000\"\n});\n","import React, { useState } from \"react\";\r\n\r\nconst Login = ({ login, error }) => {\r\n  const [details, setDetails] = useState({ name: \"\", email: \"\", password: \"\" });\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    login(details);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitHandler} className=\"login-form\">\r\n      <div className=\"form-inner\">\r\n        <h2>Login</h2>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            onChange={(e) => setDetails({ ...details, name: e.target.value })}\r\n            value={details.name}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            onChange={(e) => setDetails({ ...details, email: e.target.value })}\r\n            value={details.email}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            onChange={(e) =>\r\n              setDetails({ ...details, password: e.target.value })\r\n            }\r\n            value={details.password}\r\n          />\r\n        </div>\r\n        <input type=\"submit\" value=\"Login\" />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import Header from \"./Header\";\nimport Nav from \"./Nav\";\nimport Footer from \"./Footer\";\nimport Home from \"./Home\";\nimport NewPost from \"./NewPost\";\nimport PostPage from \"./PostPage\";\nimport EditPost from \"./EditPost\";\nimport About from \"./About\";\nimport Missing from \"./Missing\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { format } from \"date-fns\";\nimport api from \"./api/posts\";\nimport Login from \"./Login\";\n\nfunction App() {\n  const [posts, setPosts] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postBody, setPostBody] = useState(\"\");\n  const [editTitle, setEditTitle] = useState(\"\");\n  const [editBody, setEditBody] = useState(\"\");\n  const history = useHistory();\n  // login\n  const adminUser = {\n    email: \"example@example.com\",\n    password: \"example123\"\n  };\n  const [user, setUser] = useState({ name: \"\", email: \"\" });\n  const [error, setError] = useState(\"\");\n\n  const login = (details) => {\n    if (\n      details.email == adminUser.email &&\n      details.password == adminUser.password\n    ) {\n      setUser({\n        name: details.name,\n        email: details.email\n      });\n      alert(`Welcome ${details.name}`);\n    } else {\n      setError(alert(\"Details do not match\"));\n    }\n  };\n  const Logout = () => {\n    setUser({ name: \"\", email: \"\" });\n  };\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const response = await api.get(\"/posts\");\n        setPosts(response.data);\n      } catch (err) {\n        if (err.response) {\n          // Not in the 200 response range\n          console.log(err.response.data);\n          console.log(err.response.status);\n          console.log(err.response.headers);\n        } else {\n          console.log(`Error: ${err.message}`);\n        }\n      }\n    };\n\n    fetchPosts();\n  }, []);\n\n  useEffect(() => {\n    const filteredResults = posts.filter(\n      (post) =>\n        post.body.toLowerCase().includes(search.toLowerCase()) ||\n        post.title.toLowerCase().includes(search.toLowerCase())\n    );\n\n    setSearchResults(filteredResults.reverse());\n  }, [posts, search]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const id = posts.length ? posts[posts.length - 1].id + 1 : 1;\n    const datetime = format(new Date(), \"MMMM dd, yyyy pp\");\n    const newPost = { id, title: postTitle, datetime, body: postBody };\n    try {\n      const response = await api.post(\"/posts\", newPost);\n      const allPosts = [...posts, response.data];\n      setPosts(allPosts);\n      setPostTitle(\"\");\n      setPostBody(\"\");\n      history.push(\"/\");\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  };\n\n  const handleEdit = async (id) => {\n    const datetime = format(new Date(), \"MMMM dd, yyyy pp\");\n    const updatedPost = { id, title: editTitle, datetime, body: editBody };\n    try {\n      const response = await api.put(`/posts/${id}`, updatedPost);\n      setPosts(\n        posts.map((post) => (post.id === id ? { ...response.data } : post))\n      );\n      setEditTitle(\"\");\n      setEditBody(\"\");\n      history.push(\"/\");\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await api.delete(`/posts/${id}`);\n      const postsList = posts.filter((post) => post.id !== id);\n      setPosts(postsList);\n      history.push(\"/\");\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {user.email !== \"\" ? (\n        <>\n          <Header title=\"Personal Blog\" />\n          <Nav search={search} setSearch={setSearch} Logout={Logout} />\n          <Switch>\n            <Route exact path=\"/\">\n              <Home posts={searchResults} />\n            </Route>\n            <Route exact path=\"/post\">\n              <NewPost\n                handleSubmit={handleSubmit}\n                postTitle={postTitle}\n                setPostTitle={setPostTitle}\n                postBody={postBody}\n                setPostBody={setPostBody}\n              />\n            </Route>\n            <Route path=\"/edit/:id\">\n              <EditPost\n                posts={posts}\n                handleEdit={handleEdit}\n                editTitle={editTitle}\n                setEditTitle={setEditTitle}\n                editBody={editBody}\n                setEditBody={setEditBody}\n              />\n            </Route>\n            <Route path=\"/post/:id\">\n              <PostPage posts={posts} handleDelete={handleDelete} />\n            </Route>\n            <Route path=\"/about\" component={About} />\n            <Route path=\"*\" component={Missing} />\n          </Switch>\n          <Footer />\n          {/* <Login /> */}\n        </>\n      ) : (\n        <Login login={login} error={error} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/\" component={App} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}